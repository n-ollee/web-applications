<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Natural Map Puzzle</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

<style>
body {
    background: #faf7f2;
    font-family: "Segoe UI", Arial, sans-serif;
    margin: 0;
    padding: 25px;
    color: #444;
}

.container {
    max-width: 1100px;
    margin: auto;
    background: #fff;
    border-radius: 14px;
    padding: 25px;
    box-shadow: 0 0 18px rgba(0,0,0,0.1);
    border: 1px solid #e6e2d9;
}

header {
    text-align: center;
    margin-bottom: 25px;
}

header h1 {
    font-size: 2rem;
    font-weight: 600;
    color: #5a4635;
}

#map {
    height: 430px;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid #ccbfae;
}

.controls {
    margin: 20px 0;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: center;
}

.btn {
    background: #d6c3a5;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    color: #4b3b28;
    font-weight: 600;
    transition: 0.2s;
}

.btn:hover {
    background: #e7d7bc;
}

.btn-green {
    background: #b0d8b6;
}

.btn-green:hover {
    background: #c6e8c9;
}

.coordinates {
    background: #f0eadf;
    padding: 12px 16px;
    border-radius: 8px;
    border: 1px solid #d8d1c4;
    font-size: 14px;
}

.game {
    display: grid;
    grid-template-columns: 1fr 1fr;
    margin-top: 25px;
    gap: 25px;
}

@media (max-width: 900px) {
    .game {
        grid-template-columns: 1fr;
    }
}

.puzzle-box {
    background: #f5efe5;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #d8cdbf;
}

.puzzle-box h2 {
    color: #5a4635;
    margin-bottom: 15px;
    font-size: 1.3rem;
}

#puzzle-container,
#table {
    width: 100%;
    max-width: 420px;
    aspect-ratio: 4 / 3;
    margin: auto;
    display: grid;
    gap: 4px;
    border-radius: 10px;
}

#puzzle-container {
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(3, 1fr);
    border: 2px solid #ccbfae;
    background: #ece4d8;
    padding: 4px;
}

#table {
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(3, 1fr);
    border: 2px dashed #b59c7f;
    background: #f0e8dc;
    padding: 4px;
}

.slot {
    border: 2px dashed #d1c3af;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.5);
    transition: all 0.2s;
}

.slot:empty:hover {
    background: rgba(176, 216, 182, 0.3);
    border-color: #b0d8b6;
}

.slot.correct {
    border: 2px solid #66bb6a;
    background: rgba(102, 187, 106, 0.1);
}

.puzzle-piece {
    border-radius: 6px;
    background-size: 420px 320px;
    cursor: grab;
    transition: .15s;
    width: 100%;
    height: 100%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.puzzle-piece:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    z-index: 10;
}

.puzzle-piece.dragging {
    opacity: .7;
    transform: scale(1.12) rotate(2deg);
    cursor: grabbing;
}

.status {
    display: none;
    text-align: center;
    margin-top: 20px;
    padding: 18px;
    border-radius: 10px;
    background: #dff2d8;
    border: 1px solid #b2d7ab;
    color: #3f6136;
    font-size: 1.2rem;
    font-weight: 600;
}

.status.show {
    display: block;
    animation: slideIn 0.4s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>
</head>

<body>

<div class="container">

<header>
    <h1>Puzzle z mapy satelitarnej</h1>
</header>

<div class="controls">
    <button class="btn" id="location-btn">Dokładna lokalizacja</button>
    <button class="btn btn-green" id="create-puzzle">Stwórz puzzle</button>
    <div id="coordinates" class="coordinates">Kliknij "Dokładna lokalizacja"</div>
</div>

<div id="map"></div>

<div class="game">
    <div class="puzzle-box">
        <h2>Plansza</h2>
        <div id="table"></div>
    </div>

    <div class="puzzle-box">
        <h2>Puzzle</h2>
        <div id="puzzle-container"></div>
    </div>
</div>

<div id="status" class="status">
    Gratulacje! Ułożono puzzle!
</div>

</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="app.js"></script>

</body>
</html>